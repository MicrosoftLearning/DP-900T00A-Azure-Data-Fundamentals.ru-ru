---
lab:
  title: "Изучение основ визуализации данных с помощью Power\_BI"
  module: Explore fundamentals of data visualization
---

# Изучение основ визуализации данных с помощью Power BI

Завершив эту лабораторию, вы узнаете, как импортировать и моделировать данные из нескольких источников в Power BI Desktop, создавать связи и иерархии для более глубокого анализа, а также форматировать и классифицировать данные для улучшения визуализации. Вы создадите интерактивные отчеты с помощью таблиц, диаграмм и карт, а также изучите аналитические сведения о данных с помощью функций детализации и перекрестного выделения. Эти навыки позволяют преобразовать необработанные данные в убедительные визуальные истории и полезные бизнес-аналитики.

Выполнение этого задания займет около **20** минут.

## Установите Power BI Desktop

Если Microsoft Power BI Desktop еще не установлен на компьютере на основе Windows, его можно скачать и установить бесплатно.

> _**Совет.** Power BI Desktop — это средство разработки, в котором вы создаете модели и отчеты локально, прежде чем предоставлять им общий доступ. Это бесплатно установить для обучения и прототипа._

1. Скачайте установщик Power BI Desktop отсюда: [https://aka.ms/power-bi-desktop](https://aka.ms/power-bi-desktop?azure-portal=true).

1. После загрузки файла откройте его и используйте мастер установки, чтобы установить Power BI Desktop на компьютере. Установка может занять несколько минут.

## Импорт данных

1. Запустите Power BI Desktop. Интерфейс приложения должен выглядеть следующим образом:

    ![Снимок начального экрана Power BI Desktop.](images/power-bi-start.png)

    Теперь все готово для импорта данных для отчета.

1. На экране приветствия Power BI Desktop выберите **"Получить данные из других источников**", а затем в списке источников данных выберите **"Интернет**" и нажмите кнопку **"Подключить".**

    ![Снимок экрана с выбором Интернета в качестве источника данных Power BI.](images/web-source.png)

1. В диалоговом окне **Из Интернета** введите следующий URL-адрес и нажмите кнопку **OK**.

    ```
    https://github.com/MicrosoftLearning/DP-900T00A-Azure-Data-Fundamentals/raw/master/power-bi/customers.csv
    ```

    > _**Совет.** Использование веб-соединителя с примерами CSV-файлов означает, что все работают с одинаковыми чистыми данными — локальные файлы или учетные данные не требуются._

1. В диалоговом окне "Доступ к веб-содержимому" выберите **Подключить**.

1. Убедитесь, что по URL-адресу открывается набор данных, содержащий данные клиента, как показано ниже. Затем нажмите кнопку **Загрузить**, чтобы загрузить данные в модель данных для отчета.

    ![Снимок экрана с набором клиентских данных в Power BI.](images/customers.png)

    > _**Совет.** Загрузка данных выполняется быстрее всего для этой лаборатории. При необходимости вы всегда можете применить преобразования в Power Query._

1. В главном окне Power BI Desktop в меню "Данные" выберите **Получение данных**, а затем — **Интернет**:

    ![Снимок экрана с меню "Получение данных" в Power BI.](images/get-data.png)

1. В диалоговом окне **Из Интернета** введите следующий URL-адрес и нажмите кнопку **OK**.

    ```
    https://github.com/MicrosoftLearning/DP-900T00A-Azure-Data-Fundamentals/raw/master/power-bi/products.csv
    ```

1. В диалоговом окне выберите **Загрузить**, чтобы загрузить данные о продуктах из этого файла в модель данных.

1. Повторите предыдущие три шага, чтобы импортировать третий набор данных, содержащий данные о заказах, по следующему URL-адресу:

    ```
    https://github.com/MicrosoftLearning/DP-900T00A-Azure-Data-Fundamentals/raw/master/power-bi/orders.csv
    ```

    > _**Совет.** Привлечение клиентов, продуктов и заказов создает небольшую, реалистичную модель. Несколько связанных таблиц позволяют анализировать различные сущности (например, доход по категориям продуктов и городу)._

## Изучение модели данных

В модель данных загружены три таблицы импортированных данных, которые теперь можно исследовать и уточнять.

1. С правого края Power BI Desktop выберите вкладку **Модель**, а затем расположите таблицы в модели так, чтобы видеть их. Вы можете скрывать панели справа с помощью значков **>>**:

    ![Снимок экрана с вкладкой "Модель" в Power BI.](images/model-tab.png)

1. В таблице **заказы** выберите поле **Доход**, а затем на панели **Свойства** задайте для свойства **Формат** значение **Валюта**.

    ![Снимок экрана Power BI с указанием формата "Валюта" для поля Revenue.](images/revenue-currency.png)

    Это обеспечит отображение значений дохода как валюты в визуализациях отчета.

    > _**Совет.** Меры форматирования повышают удобочитаемость визуальных элементов и выравнивают числа с тем, как бизнес-пользователи ожидают их видеть._

1. В таблице products щелкните правой кнопкой мыши поле **Category** (или откройте его меню **&vellip;**) и выберите **Создать иерархию**. Это действие создаст иерархию с именем **Category Hierarchy** (Иерархия категорий). Чтобы увидеть ее, может потребоваться развернуть или прокрутить вниз таблицу **products**. Она также отображается в панели **Поля**:

    ![Снимок экрана Power BI с добавлением иерархии категорий.](images/category-hierarchy.png)

1. В таблице products щелкните правой кнопкой мыши поле **ProductName** (или откройте его меню **&vellip;**) и выберите **Добавить в иерархию** > **Category Hierarchy**. В результате в созданную ранее иерархию будет добавлено поле **ProductName**.

    ![Снимок экрана: добавление prodcutname в иерархию категорий в Power BI.](images/add-category-hierarchy.png)

1. В области **Поля** щелкните правой кнопкой мыши элемент **Иерархия категорий** (или откройте его меню **...**) и выберите команду **Переименовать**. Переименуйте иерархию в **Categorized Product** (Классифицируемый продукт).

    ![Снимок экрана с переименованием иерархии в Power BI.](images/rename-hierarchy.png)

    > _**Совет**. Категория→продуктная иерархия позволяет детализировать визуальные элементы, чтобы зрители могли просматривать сводные сведения._

1. На левом крае выберите **вкладку "Представление** таблицы", а затем в **области данных** выберите **таблицу клиентов** .

1. Выберите заголовок столбца **City**, а затем задайте для его свойства **Категория данных** значение **City**:

    ![Снимок экрана с заданием категории данных в Power BI.](images/data-category.png)

    Это обеспечит интерпретацию значений в этом столбце как названий городов, что может быть полезно, если предполагается добавление визуализаций карт.

    > _**Совет.** Категории данных помогают правильно размещать географические коды Power BI, чтобы визуальные элементы сопоставляли точки в нужных местах._

## Создание отчета

Теперь все почти готово для создания отчета. Сначала необходимо проверить ряд параметров и убедиться, что включены все визуализации.

1. В меню **Файл** выберите **Параметры и настройки**. Затем выберите **Параметры**, в разделе **Безопасность** убедитесь, что включен параметр **Использование визуальных элементов карты и картограммы** и нажмите кнопку **ОК**.

    ![Снимок экрана с заданием свойства "Использование визуальных элементов карты и картограммы" в Power BI.](images/set-options.png)

    Этот параметр обеспечит возможность включения визуализаций карт в отчеты.

    > _**Совет.** Визуальные элементы карты отключены в некоторых средах. Включение их гарантирует, что визуальный элемент "Карта" отображается в области визуализации._

1. У левого края выберите вкладку **Представление отчетов** и просмотрите интерфейс конструктора отчетов.

    ![Снимок экрана с вкладкой отчета в Power BI.](images/report-tab.png)

1. На ленте над областью конструктора отчета выберите **Текстовое поле** и добавьте в отчет текстовое поле, содержащее текст **Sales Report**. Отформатируйте текст, применив полужирный шрифт размером 32.

    ![Снимок экрана с добавлением текстового поля в Power BI.](images/text-box.png)

    > _**Совет**. Четкое название помогает пользователям понять цель отчета на первый взгляд._

1. Выберите любую пустую область в отчете, чтобы отменить выбор текстового поля. Затем в области **Данные** разверните узел **Продукты** и выберите поле **Классифицируемые продукты**. Это добавит в отчет таблицу.

    ![Снимок экрана с добавлением таблицы классифицируемых продуктов в отчет Power BI.](images/categorized-products-table.png)

    > _**Совет.** Использование поля иерархии теперь позволяет переключаться на визуальные элементы, поддерживающие детализацию без проблем._

1. Выбрав таблицу, в области **Данные** разверните узел **Заказы** и выберите **Доход**. В таблицу будет добавлен столбец Revenue. Может потребоваться увеличить размер таблицы, чтобы увидеть его.

    К доходу применяется формат валюты, как указано в модели. Однако число десятичных разрядов не указано, поэтому среди значений есть дробные величины. Это не имеет значения для создаваемых визуализаций, но при желании вы можете вернуться на вкладку **Модель** или **Данные** и изменить число десятичных знаков.

    ![Снимок экрана с таблицей классифицируемых продуктов и дохода в отчете.](images/revenue-column.png)

1. Выбрав таблицу, в области **Визуализации**, выберите визуализацию **Гистограмма с накоплением**. Таблица изменяется на гистограмму, на которой показан доход по категориям.

    ![Снимок экрана гистограммы с накоплением для классифицируемых продуктов и дохода в отчете.](images/stacked-column-chart.png)

    > _**Совет.** Диаграмма столбцов упрощает сравнение категорий параллельно._

1. Над выбранной гистограммой нажмите на значок **&#8595;**, чтобы включить детализацию. Затем на диаграмме выберите любой столбец для детализации и просмотрите доход для отдельных продуктов в этой категории. Это возможно, поскольку определена иерархия категорий и продуктов.

    ![Снимок экрана гистограммы с детализацией для просмотра продуктов в категории.](images/drill-down.png)

    > _**Совет**. Детализация показывает детали по требованию без загромождения представления — идеально подходит для многоуровневой аналитики._

1. Используйте значок **&#x2191;** для уменьшения детализации до уровня категории. Затем нажмите на значок **(**&#8595;**)**, чтобы отключить функцию детализации.

1. Выберите пустую область отчета, а затем в области **Данные** выберите поле **Количество** в таблице **заказы** и поле **Категория** в таблице **продукты**. Это выведет другую гистограмму, показывающую объем продаж по категориям продуктов.

1. Выбрав новую гистограмму, в области **Визуализации** выберите **Круговая диаграмма**, а затем измените размер диаграммы и поместите ее рядом с диаграммой дохода по категориям.

    ![Снимок экрана с круговой диаграммой объема продаж по категориям.](images/category-pie-chart.png)

    > _**Совет.** Отображение количества по категориям в виде круговой области выделяет пропорциональный вклад, дополняя диаграмму дохода._

1. Выберите пустую область отчета, а затем в области **Данные** выберите поле **Город** в таблице **заказчики** и поле **Доход** в таблице **заказы**. Будет выведена карта с доходом от продаж по городам. Расположите визуализации и измените их размер необходимым образом:

    ![Снимок экрана с картой, показывающей доход по городам.](images/revenue-map.png)

    > _**Совет.** Сопоставление доходов по городу добавляет географические объективы — шаблоны, которые не очевидны в таблицах или диаграммах могут всплыть на карте._

1. Обратите внимание, что для взаимодействия на карте можно перетаскивать элементы, дважды щелкать, использовать колесо мыши или сжатие и перетаскивание на сенсорном экране. Затем выберите конкретный город и обратите внимание, что другие визуализации в отчете изменятся, и на них будут выделены данные для выбранного города.

    ![Снимок экрана с картой, показывающей доход по городам, и выделенными данными для выбранного города.](images/selected-data.png)

    > _**Совет.** Перекрестное выделение позволяет пользователям взаимодействовать с одним визуальным элементом и видеть связанные изменения на странице, превращая статический отчет в интерактивный интерфейс._

1. В меню **File** (Файл) выберите пункт **Save** (Сохранить). Теперь сохраните файл с соответствующим именем файл PBIX. Вы можете открыть файл и дополнительно изучить моделирование данных и визуализацию.

    > _**Совет.** Сохранение PBIX сохраняет модель, запросы и отчет вместе, чтобы можно было повторно открыть и выполнить итерацию позже._

Если у вас есть подписка на [службу Power BI](https://www.powerbi.com/?azure-portal=true), вы можете войти в свою учетную запись и опубликовать отчет в рабочей области Power BI. 

> **Совет.** Публикация в служба Power BI позволяет предоставлять общий доступ к отчету, планировать обновление и сотрудничать с другими пользователями в рабочей области.
