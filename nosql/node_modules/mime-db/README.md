---
ms.openlocfilehash: 8600eb5937207d381706ffe6bd6f5dc286da14fc
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/05/2022
ms.locfileid: "138052844"
---
# <a name="mime-db"></a>mime-db

[![Версия NPM][npm-version-image]][npm-url]
[![Загрузки NPM][npm-downloads-image]][npm-url]
[![Версия Node.js][node-image]][node-url]
[![Статус сборки][ci-image]][ci-url]
[![Состояние охвата тестирования][coveralls-image]][coveralls-url]

Это база данных всех типов mime.
Она состоит из одного общедоступного JSON-файла и не содержит какой-либо логики, что позволяет ей оставаться максимально независимой от API.
Она объединяет данные из следующих источников:

- http://www.iana.org/assignments/media-types/media-types.xhtml
- http://svn.apache.org/repos/asf/httpd/httpd/trunk/docs/conf/mime.types
- http://hg.nginx.org/nginx/raw-file/default/conf/mime.types

## <a name="installation"></a>Установка

```bash
npm install mime-db
```

### <a name="database-download"></a>Скачивание базы данных

Если вы готовы использовать ее в браузере, можно просто взять JSON-файл с помощью [jsDelivr](https://www.jsdelivr.com/). Рекомендуется заменить `master`[тегом выпуска](https://github.com/jshttp/mime-db/tags), так как в будущем формат JSON может измениться.

```
https://cdn.jsdelivr.net/gh/jshttp/mime-db@master/db.json
```

## <a name="usage"></a>Использование

```js
var db = require('mime-db')

// grab data on .js files
var data = db['application/javascript']
```

## <a name="data-structure"></a>Структура данных

JSON-файл — это поиск сопоставления для типов mime в нижнем регистре.
Каждый тип mime имеет следующие свойства.

- `.source` — где определен тип mime.
    Если значение не задано, это, вероятно, пользовательский тип мультимедиа.
    - `apache` - [Распространенные типы мультимедиа Apache](http://svn.apache.org/repos/asf/httpd/httpd/trunk/docs/conf/mime.types)
    - `iana` - [Типы мультимедиа, определяемые IANA](http://www.iana.org/assignments/media-types/media-types.xhtml)
    - `nginx` - [Типы мультимедиа nginx](http://hg.nginx.org/nginx/raw-file/default/conf/mime.types)
- `.extensions[]` — известные расширения, связанные с этим типом mime.
- `.compressible` — можно ли сжать файл этого типа до файла GZIP.
- `.charset` — набор символов по умолчанию, связанный с этим типом, при наличии.

Если неизвестно, каждое свойство может быть `undefined`.

## <a name="contributing"></a>Участие

Чтобы изменить базу данных, выполняйте только PR к `src/custom-types.json` или `src/custom-suffix.json`.

Файл `src/custom-types.json` представляет собой объект JSON с типом MIME в качестве ключей. Значения являются объектом со следующими ключами:

- `compressible` — опустите, если неизвестно. В противном случае — `true`/`false`, чтобы указать, можно ли сжать данные, представленные типом.
- `extensions` — включает массив расширений файлов, связанных с типом.
- `notes` — понятные для человека заметки о типе, как правило, сведения о том, что представляет собой тип.
- `sources` — включает массив URL-адресов, являющихся источниками типа MIME и связанных расширений. Это должен быть [основной источник](https://en.wikipedia.org/wiki/Primary_source); ссылки на сайты агрегирования типов и Википедию _не принимаются_.

Чтобы обновить сборку, выполните `npm run build`.

### <a name="adding-custom-media-types"></a>Добавление пользовательских типов мультимедиа

Лучший способ получить новые типы мультимедиа, включенные в эту библиотеку, — зарегистрировать их в IANA. Процедура регистрации сообщества описана в [разделе 5 RFC 6838](http://tools.ietf.org/html/rfc6838#section-5). Типы, зарегистрированные в IANA, автоматически извлекаются в эту библиотеку.

Если это невозможно или нецелесообразно, их можно добавить непосредственно здесь в качестве пользовательского типа. Для этого необходим основной источник, в котором определенно перечислен тип мультимедиа. Если расширение будет указано как связанное с этим типом мультимедиа, источник также должен определенно связывать тип мультимедиа и расширение.

[ci-image]: https://badgen.net/github/checks/jshttp/mime-db/master?label=ci
[ci-url]: https://github.com/jshttp/mime-db/actions?query=workflow%3Aci
[coveralls-image]: https://badgen.net/coveralls/c/github/jshttp/mime-db/master
[coveralls-url]: https://coveralls.io/r/jshttp/mime-db?branch=master
[node-image]: https://badgen.net/npm/node/mime-db
[node-url]: https://nodejs.org/en/download
[npm-downloads-image]: https://badgen.net/npm/dm/mime-db
[npm-url]: https://npmjs.org/package/mime-db
[npm-version-image]: https://badgen.net/npm/v/mime-db
