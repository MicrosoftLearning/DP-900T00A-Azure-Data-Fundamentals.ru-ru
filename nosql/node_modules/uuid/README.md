---
ms.openlocfilehash: c6dc9b216d8255c51f2dc575a7c59dce25deff9e
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/05/2022
ms.locfileid: "138052053"
---
<!--
  -- This file is auto-generated from README_js.md. Changes should be made there.
  -->

# <a name="uuid-cihttpsgithubcomuuidjsuuidactionsqueryworkflow3aci-browserhttpsgithubcomuuidjsuuidactionsqueryworkflow3abrowser"></a>uuid [![CI](https://github.com/uuidjs/uuid/workflows/CI/badge.svg)](https://github.com/uuidjs/uuid/actions?query=workflow%3ACI)[![Браузер](https://github.com/uuidjs/uuid/workflows/Browser/badge.svg)](https://github.com/uuidjs/uuid/actions?query=workflow%3ABrowser)

Для создания UUID [RFC4122](http://www.ietf.org/rfc/rfc4122.txt)

- **Полный** — поддержка версий RFC4122 1, 3, 4, и 5 UUID
- **Кроссплатформенный** — поддержка для...
  - Сборки CommonJS, [ECMAScript Modules](#ecmascript-modules) и [CDN](#cdn-builds)
  - Node 8, 10, 12, 14
  - Браузеры Chrome, Safari, Firefox, Edge, IE 11
  - Средство объединения в пакеты для модулей Webpack и rollup.js
  - [React Native / Expo](#react-native--expo)
- **Безопасный** — криптографически надежные произвольные значения
- **Небольшой** — нулевая зависимость, незначительные последствия, эффективно работает с упаковщиками "встряски дерева вызова функций"
- **CLI** — включает служебную программу [`uuid`командной строки](#command-line)

**Обновление с версии `uuid@3.x`?** Ваш код вероятно неплох, но стоит ознакомиться с содержим статьи [Обновление версии `uuid@3.x`](#upgrading-from-uuid3x), где приведены подробные сведения.

## <a name="quickstart"></a>Краткое руководство

Создание произвольного UUID...

**1. Установка**

```shell
npm install uuid
```

**2. Создание UUID** (синтаксис модуля ES6)

```javascript
import { v4 as uuidv4 } from 'uuid';
uuidv4(); // ⇨ '9b1deb4d-3b7d-4bad-9bdd-2b0d7b3dcb6d'
```

... или с помощью синтаксиса CommonJS:

```javascript
const { v4: uuidv4 } = require('uuid');
uuidv4(); // ⇨ '1b9d6bcd-bbfd-4b2d-9b5d-ab8dfbbd4bed'
```

Для UUID меток времени, UUID пространства имен и других параметров, выполните чтение...

## <a name="api-summary"></a>Сводка по API

|  |  |  |
| --- | --- | --- |
| [`uuid.NIL`](#uuidnil) | Строка nil UUID (все нули) | Новое в `uuid@8.3` |
| [`uuid.parse()`](#uuidparsestr) | Преобразование строки UUID в массив байтов | Новое в `uuid@8.3` |
| [`uuid.stringify()`](#uuidstringifyarr-offset) | Преобразование массива байтов в строку UUID | Новое в `uuid@8.3` |
| [`uuid.v1()`](#uuidv1options-buffer-offset) | Создание UUID версии 1 (метка времени) |  |
| [`uuid.v3()`](#uuidv3name-namespace-buffer-offset) | Создание UUID версии 3 (пространство имен с MD5) |  |
| [`uuid.v4()`](#uuidv4options-buffer-offset) | Создание UUID версии 4 (произвольный) |  |
| [`uuid.v5()`](#uuidv5name-namespace-buffer-offset) | Создание UUID версии 5 (пространство имен с SHA-1) |  |
| [`uuid.validate()`](#uuidvalidatestr) | Проверьте строку, чтобы узнать, является ли она допустимым UUID | Новое в `uuid@8.3` |
| [`uuid.version()`](#uuidversionstr) | Определение версии RFC для UUID | Новое в `uuid@8.3` |

## <a name="api"></a>API

### <a name="uuidnil"></a>uuid.NIL

Строка nil UUID (все нули)

Пример.

```javascript
import { NIL as NIL_UUID } from 'uuid';

NIL_UUID; // ⇨ '00000000-0000-0000-0000-000000000000'
```

### <a name="uuidparsestr"></a>uuid.parse(str)

Преобразование строки UUID в массив байтов

|           |                                          |
| --------- | ---------------------------------------- |
| `str`     | Допустимый UUID `String`                    |
| _возвращает_ | `Uint8Array[16]`                         |
| _выдает_  | `TypeError`, если `str` не является допустимым UUID |

Примечание. Порядок значений в массивах байтов, используемых `parse()` в `stringify()` строках UUID в левом &Rarr; правом порядке шестнадцатеричных пар. Как показано в примере ниже.

Пример.

```javascript
import { parse as uuidParse } from 'uuid';

// Parse a UUID
const bytes = uuidParse('6ec0bd7f-11c0-43da-975e-2a8ad9ebae0b');

// Convert to hex strings to show byte order (for documentation purposes)
[...bytes].map((v) => v.toString(16).padStart(2, '0')); // ⇨ 
  // [
  //   '6e', 'c0', 'bd', '7f',
  //   '11', 'c0', '43', 'da',
  //   '97', '5e', '2a', '8a',
  //   'd9', 'eb', 'ae', '0b'
  // ]
```

### <a name="uuidstringifyarr-offset"></a>uuid.stringify(arr[, offset])

Преобразование массива байтов в строку UUID

|                |                                                                              |
| -------------- | ---------------------------------------------------------------------------- |
| `arr`          | Коллекция, похожая на `Array`, из 16 значений (начиная с `offset`) в диапазоне от 0 до 255. |
| [`offset` = 0] | `Number` Начальный индекс в массиве.                                         |
| _возвращает_      | `String`                                                                     |
| _выдает_       | `TypeError`, если не удается создать допустимую строку UUID                       |

Примечание. Порядок значений в массивах байтов, используемых `parse()` в `stringify()` строках UUID в левом &Rarr; правом порядке шестнадцатеричных пар. Как показано в примере ниже.

Пример.

```javascript
import { stringify as uuidStringify } from 'uuid';

const uuidBytes = [
  0x6e,
  0xc0,
  0xbd,
  0x7f,
  0x11,
  0xc0,
  0x43,
  0xda,
  0x97,
  0x5e,
  0x2a,
  0x8a,
  0xd9,
  0xeb,
  0xae,
  0x0b,
];

uuidStringify(uuidBytes); // ⇨ '6ec0bd7f-11c0-43da-975e-2a8ad9ebae0b'
```

### <a name="uuidv1options-buffer-offset"></a>uuid.v1([options[, buffer[, offset]]])

Создание UUID версии RFC 1 (метка времени)

|  |  |
| --- | --- |
| [`options`] | `Object` с одним или несколькими следующими свойствами: |
| [`options.node` ] | Поле RFC "узел" в виде байтовых значений `Array[6]` (на 4.1.6) |
| [`options.clockseq`] | "Последовательность тактовых сигналов" RFC как `Number` в диапазоне от 0 до 0x3fff |
| [`options.msecs`] | Поле RFC "метка времени" (`Number` миллисекунд, эпоха UNIX) |
| [`options.nsecs`] | Поле RFC "метка времени" (`Number` наносекунд для добавления в `msecs` должно быть в диапазоне 0–10 000) |
| [`options.random`] | `Array` из 16 произвольных байт (0–255) |
| [`options.rng`] | Альтернатива `options.random`, `Function`, который возвращает `Array` из 16 произвольных байт (0–255) |
| [`buffer`] | `Array \| Buffer` Если этот параметр задан, uuid будет написан здесь в байтовой форме, начиная с `offset` |
| [`offset` = 0] | `Number` Индекс для начала записи байтов UUID в `buffer` |
| _возвращает_ | UUID `String`, если значение `buffer` не указано, в противном случае возвращается `buffer` |
| _выдает_ | `Error`, если запрашивается более 10 млн. UUID в секунду |

Примечание. Идентификатор [узла](https://tools.ietf.org/html/rfc4122#section-4.1.6) по умолчанию (последние 12 цифр в UUID) создается один раз при запуске процесса, а затем остается неизменным в течение процесса.

Примечание. `options.random` и `options.rng` имеют смысл только при первом вызове в `v1()`, где они могут быть переданы для инициализации внутренних полей `node` и `clockseq`.

Пример.

```javascript
import { v1 as uuidv1 } from 'uuid';

uuidv1(); // ⇨ '2c5ea4c0-4067-11e9-8bad-9b1deb4d3b7d'
```

Пример, использующий среду `options`:

```javascript
import { v1 as uuidv1 } from 'uuid';

const v1options = {
  node: [0x01, 0x23, 0x45, 0x67, 0x89, 0xab],
  clockseq: 0x1234,
  msecs: new Date('2011-11-01').getTime(),
  nsecs: 5678,
};
uuidv1(v1options); // ⇨ '710b962e-041c-11e1-9234-0123456789ab'
```

### <a name="uuidv3name-namespace-buffer-offset"></a>uuid.v3(name, namespace[, buffer[, offset]])

Создание UUID версии RFC 3 (пространство имен с MD5)

API идентичен `v5()`, но вместо этого использует "v3".

&#x26a0;&#xfe0f; Примечание. Для каждого RFC, "_Если обратная совместимость не является проблемой, предпочтительно использовать SHA-1 [версия 5]_ ."

### <a name="uuidv4options-buffer-offset"></a>uuid.v4([options[, buffer[, offset]]])

Создание UUID версии RFC 4 (произвольный)

|  |  |
| --- | --- |
| [`options`] | `Object` с одним или несколькими следующими свойствами: |
| [`options.random`] | `Array` из 16 произвольных байт (0–255) |
| [`options.rng`] | Альтернатива `options.random`, `Function`, который возвращает `Array` из 16 произвольных байт (0–255) |
| [`buffer`] | `Array \| Buffer` Если этот параметр задан, uuid будет написан здесь в байтовой форме, начиная с `offset` |
| [`offset` = 0] | `Number` Индекс для начала записи байтов UUID в `buffer` |
| _возвращает_ | UUID `String`, если значение `buffer` не указано, в противном случае возвращается `buffer` |

Пример.

```javascript
import { v4 as uuidv4 } from 'uuid';

uuidv4(); // ⇨ '1b9d6bcd-bbfd-4b2d-9b5d-ab8dfbbd4bed'
```

Пример использования предопределенных значений `random`:

```javascript
import { v4 as uuidv4 } from 'uuid';

const v4options = {
  random: [
    0x10,
    0x91,
    0x56,
    0xbe,
    0xc4,
    0xfb,
    0xc1,
    0xea,
    0x71,
    0xb4,
    0xef,
    0xe1,
    0x67,
    0x1c,
    0x58,
    0x36,
  ],
};
uuidv4(v4options); // ⇨ '109156be-c4fb-41ea-b1b4-efe1671c5836'
```

### <a name="uuidv5name-namespace-buffer-offset"></a>uuid.v5(name, namespace[, buffer[, offset]])

Создание UUID версии RFC 5 (пространство имен с SHA-1)

|  |  |
| --- | --- |
| `name` | `String \| Array` |
| `namespace` | `String \| Array[16]` UUID пространства имен |
| [`buffer`] | `Array \| Buffer` Если этот параметр задан, uuid будет написан здесь в байтовой форме, начиная с `offset` |
| [`offset` = 0] | `Number` Индекс для начала записи байтов UUID в `buffer` |
| _возвращает_ | UUID `String`, если значение `buffer` не указано, в противном случае возвращается `buffer` |

Примечание. Пространства имен RFC `DNS` и `URL` доступны как `v5.DNS` и `v5.URL`.

Пример с пользовательским пространством имен:

```javascript
import { v5 as uuidv5 } from 'uuid';

// Define a custom namespace.  Readers, create your own using something like
// https://www.uuidgenerator.net/
const MY_NAMESPACE = '1b671a64-40d5-491e-99b0-da01ff1f3341';

uuidv5('Hello, World!', MY_NAMESPACE); // ⇨ '630eb68f-e0fa-5ecc-887a-7c7a62614681'
```

Пример с пространством имен RFC `URL`:

```javascript
import { v5 as uuidv5 } from 'uuid';

uuidv5('https://www.w3.org/', uuidv5.URL); // ⇨ 'c106a26a-21bb-5538-8bf2-57095d1976c1'
```

### <a name="uuidvalidatestr"></a>uuid.validate(str)

Проверьте строку, чтобы узнать, является ли она допустимым UUID

|           |                                                     |
| --------- | --------------------------------------------------- |
| `str`     | `String` для проверки                                |
| _возвращает_ | `true`, если строка является допустимым идентификатором UUID, в противном случае — `false` |

Пример.

```javascript
import { validate as uuidValidate } from 'uuid';

uuidValidate('not a UUID'); // ⇨ false
uuidValidate('6ec0bd7f-11c0-43da-975e-2a8ad9ebae0b'); // ⇨ true
```

Одновременное использование `validate` и `version` позволяет выполнять проверку для каждой версии, например проверку только для UUID версии 4.

```javascript
import { version as uuidVersion } from 'uuid';
import { validate as uuidValidate } from 'uuid';

function uuidValidateV4(uuid) {
  return uuidValidate(uuid) && uuidVersion(uuid) === 4;
}

const v1Uuid = 'd9428888-122b-11e1-b85c-61cd3cbb3210';
const v4Uuid = '109156be-c4fb-41ea-b1b4-efe1671c5836';

uuidValidateV4(v4Uuid); // ⇨ true
uuidValidateV4(v1Uuid); // ⇨ false
```

### <a name="uuidversionstr"></a>uuid.version(str)

Определение версии RFC для UUID

|           |                                          |
| --------- | ---------------------------------------- |
| `str`     | Допустимый UUID `String`                    |
| _возвращает_ | `Number` Версия UUID RFC     |
| _выдает_  | `TypeError`, если `str` не является допустимым UUID |

Пример.

```javascript
import { version as uuidVersion } from 'uuid';

uuidVersion('45637ec4-c85f-11ea-87d0-0242ac130003'); // ⇨ 1
uuidVersion('6ec0bd7f-11c0-43da-975e-2a8ad9ebae0b'); // ⇨ 4
```

## <a name="command-line"></a>Командная строка

Идентификаторы UUID можно создать из командной строки с помощью `uuid`.

```shell
$ uuid
ddeb27fb-d9a0-4624-be4d-4615062daed4
```

По умолчанию создается версия 4 UUIDS, однако поддерживаются другие версии. Тип `uuid --help` для подробных сведений:

```shell
$ uuid --help

Usage:
  uuid
  uuid v1
  uuid v3 <name> <namespace uuid>
  uuid v4
  uuid v5 <name> <namespace uuid>
  uuid --help

Note: <namespace uuid> may be "URL" or "DNS" to use the corresponding UUIDs
defined by RFC4122
```

## <a name="ecmascript-modules"></a>Модули ECMAScript

Эта библиотека поставляется с поддержкой [модулей ECMAScript](https://www.ecma-international.org/ecma-262/6.0/#sec-modules) (ESM) для версий Node.js, которые поддерживают его ([пример](./examples/node-esmodules/)), а также средства объединения в пакеты, такие как [rollup.js](https://rollupjs.org/guide/en/#tree-shaking) ([пример](./examples/browser-rollup/)) и [webpack](https://webpack.js.org/guides/tree-shaking/) ([пример](./examples/browser-webpack/)) (нацеливание как на Node.js, так и на браузерные среды).

```javascript
import { v4 as uuidv4 } from 'uuid';
uuidv4(); // ⇨ '1b9d6bcd-bbfd-4b2d-9b5d-ab8dfbbd4bed'
```

Чтобы выполнить примеры, сначала необходимо создать сборку дистрибутива этой библиотеки в корневом каталоге модуля:

```shell
npm run build
```

## <a name="cdn-builds"></a>Сборки CDN

### <a name="ecmascript-modules"></a>Модули ECMAScript

Чтобы загрузить этот модуль непосредственно в современные браузеры, [поддерживающие загрузку модулей ECMAScript](https://caniuse.com/#feat=es6-module), можно использовать [jspm](https://jspm.org/):

```html
<script type="module">
  import { v4 as uuidv4 } from 'https://jspm.dev/uuid';
  console.log(uuidv4()); // ⇨ '1b9d6bcd-bbfd-4b2d-9b5d-ab8dfbbd4bed'
</script>
```

### <a name="umd"></a>UMD

Чтобы загрузить этот модуль непосредственно в прежние версии браузеров, можно использовать сборки [UMD (универсальное определение модуля)](https://github.com/umdjs/umd) из любой из следующих CDN:

**Использование [UNPKG](https://unpkg.com/uuid@latest/dist/umd/)** :

```html
<script src="https://unpkg.com/uuid@latest/dist/umd/uuidv4.min.js"></script>
```

**Использование [jsDelivr](https://cdn.jsdelivr.net/npm/uuid@latest/dist/umd/)** :

```html
<script src="https://cdn.jsdelivr.net/npm/uuid@latest/dist/umd/uuidv4.min.js"></script>
```

**Использование [cdnjs](https://cdnjs.com/libraries/uuid)** :

```html
<script src="https://cdnjs.cloudflare.com/ajax/libs/uuid/8.1.0/uuidv4.min.js"></script>
```

Все эти сети CDN предоставляют один и тот же метод [`uuidv4()`](#uuidv4options-buffer-offset):

```html
<script>
  uuidv4(); // ⇨ '55af1e37-0734-46d8-b070-a1e42e4fc392'
</script>
```

Методы для других алгоритмов ([`uuidv1()`](#uuidv1options-buffer-offset), [`uuidv3()`](#uuidv3name-namespace-buffer-offset) и[`uuidv5()`](#uuidv5name-namespace-buffer-offset)) доступны из файлов `uuidv1.min.js`, `uuidv3.min.js` и `uuidv5.min.js` соответственно.

## <a name="getrandomvalues-not-supported"></a>"getRandomValues() не поддерживаются"

Эта ошибка возникает в средах, где стандартный API [`crypto.getRandomValues()`](https://developer.mozilla.org/en-US/docs/Web/API/Crypto/getRandomValues) не поддерживается. Эту проблему можно устранить, добавив соответствующую операцию полизаполнения:

### <a name="react-native--expo"></a>React Native / Expo

1. Установите [`react-native-get-random-values`](https://github.com/LinusU/react-native-get-random-values#readme)
1. Импортируйте его _до_`uuid`. Поскольку `uuid` также может отображаться как транзитивная зависимость в некоторых других операциях импорта, самым безопасным будет импорт `react-native-get-random-values` как самая первая операция в точке входа:

```javascript
import 'react-native-get-random-values';
import { v4 as uuidv4 } from 'uuid';
```

Примечание. Если вы используете Expo, необходимо использовать по крайней мере `react-native-get-random-values@1.5.0` и `expo@39.0.0`.

### <a name="web-workers--service-workers-edge--18"></a>Рабочие веб-роли и служебные рабочие роли (Edge <= 18)

[В Edge <= 18, веб-криптография не поддерживается в рабочих веб-ролях или служебных рабочих ролях](https://caniuse.com/#feat=cryptography), и нам неизвестно о полизаполнении (сообщите нам, если вы его обнаружите).

## <a name="upgrading-from-uuid7x"></a>Обновление с версии `uuid@7.x`

### <a name="only-named-exports-supported-when-using-with-nodejs-esm"></a>Поддерживаются только именованные экспорты при использовании с Node.js ESM

В `uuid@7.x` не предполагалась собственная поддержка модуля ECMAScript (ESM) для Node.js. При импорте его в Node.js ESM последовательно импортировался источник CommonJS с помощью операции экспорта по умолчанию. Эта библиотека теперь поставляется с настоящей поддержкой Node.js ESM и предоставляет только именованные операции экспорта.

Вместо выполнения:

```javascript
import uuid from 'uuid';
uuid.v4();
```

Теперь вам придется использовать именованные операции экспорта:

```javascript
import { v4 as uuidv4 } from 'uuid';
uuidv4();
```

### <a name="deep-requires-no-longer-supported"></a>Больше не поддерживаются глубокие требования

Глубокие требования, например, `require('uuid/v4')`[, не рекомендованные в `uuid@7.x`](#deep-requires-now-deprecated) больше не поддерживаются.

## <a name="upgrading-from-uuid3x"></a>Обновление с версии `uuid@3.x`.

"_Погодите... а что случилось с `uuid@4.x` - `uuid@6.x`?!?_ "

Чтобы избежать путаницы с RFC [версии 4](#uuidv4options-buffer-offset) и UUID [версии 5](#uuidv5name-namespace-buffer-offset), а также, возможно, [версии 6](http://gh.peabody.io/uuidv6/), выпуски с 4 по 6 этого модуля были пропущены.

### <a name="deep-requires-now-deprecated"></a>Теперь не рекомендуется использовать глубокие требования

`uuid@3.x` рекомендуется использовать глубокие требования, чтобы свести к минимуму размер пакета сборок браузера:

```javascript
const uuidv4 = require('uuid/v4'); // <== NOW DEPRECATED!
uuidv4();
```

Начиная с `uuid@7.x`, эта библиотека теперь предоставляет сборки модулей ECMAScript, которые позволяют упаковщикам, таким как Webpack и Rollup, выполнять "встряску дерева вызовов функций" для удаления неиспользуемого кода. Вместо этого можно использовать синтаксис `import`:

```javascript
import { v4 as uuidv4 } from 'uuid';
uuidv4();
```

... или для CommonJS:

```javascript
const { v4: uuidv4 } = require('uuid');
uuidv4();
```

### <a name="default-export-removed"></a>Экспорт по умолчанию удален

`uuid@3.x` экспортировал метод UUID версии 4 в качестве экспорта по умолчанию:

```javascript
const uuid = require('uuid'); // <== REMOVED!
```

Этот шаблон использования уже не рекомендуется использовать `uuid@3.x` и был удален в `uuid@7.x`.

----
Markdown, созданный на основе [README_js.md](README_js.md) с помощью [![RunMD Logo](http://i.imgur.com/h0FVyzU.png)](https://github.com/broofa/runmd)