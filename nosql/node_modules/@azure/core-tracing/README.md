---
ms.openlocfilehash: b39271c36702513d70dc9f28e4cedb95c04a6525
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/05/2022
ms.locfileid: "138052636"
---
# <a name="azure-core-tracing-library-for-javascript"></a>Библиотека трассировки Azure Core для JavaScript

Это основная библиотека трассировки, которая предоставляет низкоуровневые интерфейсы и вспомогательные методы для трассировки в библиотеках JavaScript пакета Azure SDK, работающие в браузере и Node.js.

## <a name="getting-started"></a>Начало работы

### <a name="installation"></a>Установка

Установите эту библиотеку с помощью npm следующим образом

```
npm install @azure/core-tracing
```

## <a name="key-concepts"></a>Основные понятия

Пакет `@azure/core-tracing` поддерживает включение трассировки для пакетов Azure SDK с помощью [OpenTelemetry](https://opentelemetry.io/) `Tracer`.

По умолчанию все библиотеки регистрируются с `NoOpTracer`, который не выполняет действий.
Чтобы это изменить, необходимо использовать `setTracer` для задания нового `Tracer` по умолчанию.

## <a name="examples"></a>Примеры

### <a name="example-1---setting-an-opentelemetry-tracer"></a>Пример 1. Настройка средства трассировки OpenTelemetry

```js
const opentelemetry = require("@opentelemetry/api");
const { BasicTracer, SimpleSpanProcessor } = require("@opentelemetry/tracing");
const { ZipkinExporter } = require("@opentelemetry/exporter-zipkin");
const { setTracer } = require("@azure/core-tracing");

const exporter = new ZipkinExporter({
  serviceName: "azure-tracing-sample"
});
const tracer = new BasicTracer();
tracer.addSpanProcessor(new SimpleSpanProcessor(exporter));

setTracer(tracer);

const rootSpan = tracer.startSpan("root");
const context = opentelemetry.setSpan(opentelemetry.context.active(), rootSpan);

// Call some client library methods and pass rootSpan via tracingOptions.

rootSpan.end();
exporter.shutdown();
```

### <a name="example-2---passing-current-context-to-library-operations"></a>Пример 2. Передача текущего контекста операциям библиотеки

```js
// Given a BlobClient from @azure/storage-blob
const result = await blobClient.download(undefined, undefined, {
  tracingOptions: {
    tracingContext: context
  }
});
```

## <a name="next-steps"></a>Дальнейшие действия

Вы можете создавать и запускать тесты локально с помощью команды `rushx test`. Изучите папку `test`, чтобы увидеть расширенное использование и поведение открытых классов.

## <a name="troubleshooting"></a>Устранение неполадок

Если при использовании этой библиотеки возникают проблемы, вы можете [сообщить о проблеме](https://github.com/Azure/azure-sdk-for-js/issues/new).

## <a name="contributing"></a>Участие

Если вы хотите вносить изменения в эту библиотеку, ознакомьтесь с [руководством по внесению изменений](https://github.com/Azure/azure-sdk-for-js/blob/main/CONTRIBUTING.md), в котором содержатся сведения о создании и тестировании кода.

![Просмотры](https://azure-sdk-impressions.azurewebsites.net/api/impressions/azure-sdk-for-js%2Fsdk%2Fcore%2Fcore-tracing%2FREADME.png)
